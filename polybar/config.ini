; =========================================================
; Polybar config.ini (modern + compact)
; =========================================================

[colors]
background     = #2e3440
background-alt = #3b4252
foreground     = #d8dee9
primary        = #81a1c1
secondary      = #5e81ac
alert          = #bf616a
green          = #3ec902
muted          = #4c566a
cyan           = #8fbcbb
purple         = #b48ead
orange         = #e39102

[bar/main]
width = 100%
height = 22pt
offset-x = 0%
offset-y = 0%
bottom = false

; Rounded / modern shape
radius = 10.0
border-size = 6
border-color = #00000000

monitor = ${env:MONITOR}

background = ${colors.background}
foreground = ${colors.foreground}

line-size = 2
line-color = ${colors.primary}

padding-left = 2
padding-right = 2

; Compact spacing
module-margin = 1
separator = " "
separator-foreground = ${colors.muted}

cursor-click = pointer
cursor-scroll = ns-resize

font-0 = "DejaVu Sans Mono:size=11;2"
font-1 = "Symbols Nerd Font Mono:size=12;3"

modules-left = i3 xwindow
modules-center = date
modules-right = cpu memory filesystem network wifi volume xkeyboard

enable-ipc = true


; =========================================================
; Modules
; =========================================================

[module/i3]
type = internal/i3
index-sort = true
wrapping-scroll = false

; Default tag <label-state> expands to label-(focused|unfocused|visible|urgent)
format = <label-state> <label-mode>

label-mode = %mode%
label-mode-padding = 1
label-mode-foreground = ${colors.background}
label-mode-background = ${colors.secondary}

; Focused workspace: small square with slightly lighter bg
label-focused = %index%
label-focused-foreground = ${colors.foreground}
label-focused-background = ${colors.background-alt}
label-focused-padding = 1

label-unfocused = %index%
label-unfocused-foreground = ${colors.foreground}
label-unfocused-padding = 1

; Visible (on other monitor/output)
label-visible = %index%
label-visible-foreground = ${colors.foreground}
label-visible-background = ${colors.background}
label-visible-padding = 1

label-urgent = %index%
label-urgent-foreground = ${colors.background}
label-urgent-background = ${colors.alert}
label-urgent-padding = 1


[module/xwindow]
type = internal/xwindow
label = %title:0:45:…%
label-foreground = ${colors.foreground}


[module/date]
type = internal/date
interval = 1
time = %H:%M
time-alt = %Y-%m-%d %H:%M:%S
label = %{T2}󰥔%{T-} %time%
label-foreground = ${colors.foreground}


[module/cpu]
type = internal/cpu
interval = 0.5
format = %{T2}%{T-} <label>
label = %percentage%%
format-foreground = ${colors.secondary}


[module/memory]
type = internal/memory
interval = 1
format = %{T2}%{T-} <label>
label = %percentage_used%%
format-foreground = ${colors.purple}


[module/filesystem]
type = internal/fs
interval = 25
mount-point = /mnt/
format-mounted = %{T2}%{T-} <label-mounted>
label-mounted = %percentage_used%%
format-mounted-foreground = ${colors.orange}


[module/network]
type = internal/network
interface = enp4s0
interval = 1.0
accumulate-stats = true

; Compact speeds (no fixed width, no wide padding)
format-connected = %{T2}%{T-} <label-connected>
label-connected = ↓%downspeed% ↑%upspeed%
format-connected-foreground = ${colors.cyan}

format-disconnected = %{T2}%{T-} E:down
format-disconnected-foreground = ${colors.alert}


[module/wifi]
type = internal/network
interface = wlp5s0
interval = 1.0

; Compact wifi: signal% only (SSID can be long)
format-connected = %{T2}%{T-} <label-connected>
label-connected = %signal%%
format-connected-foreground = ${colors.cyan}

format-disconnected = %{T2}%{T-} W:off
format-disconnected-foreground = ${colors.alert}


[module/volume]
type = internal/volume
format-volume = %{T2}%{T-} <label-volume>
label-volume = %percentage%%
format-volume-foreground = ${colors.green}

format-muted = %{T2}%{T-} mute
format-muted-foreground = ${colors.alert}


[module/xkeyboard]
type = internal/xkeyboard
label-layout = %{T2}%{T-} %layout%
label-layout-foreground = ${colors.foreground}
blacklist-0 = num lock
blacklist-1 = scroll lock


[settings]
screenchange-reload = true
pseudo-transparency = true
